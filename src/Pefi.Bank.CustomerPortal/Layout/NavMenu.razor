@inject CustomerState State

<nav class="sidebar-nav">
    <NavLink href="" Match="NavLinkMatch.All" class="nav-link">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
        Home
    </NavLink>

    @if (State.IsLoggedIn)
    {
        <NavLink href="accounts" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1H12c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
            </svg>
            Accounts
        </NavLink>

        <NavLink href="transfer" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>
            </svg>
            Transfer
        </NavLink>

        <button class="nav-link" style="border: none; background: none; cursor: pointer; width: 100%; text-align: left;" @onclick="SignOut">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
            </svg>
            Sign Out
        </button>
    }
</nav>

@code {
    [Inject] private NavigationManager Nav { get; set; } = default!;

    private void SignOut()
    {
        State.Clear();
        Nav.NavigateTo("/", forceLoad: false);
    }
}
